# ××“×¨×™×š ×”×ª×§× ×” ××”×™×¨ - StudyHub Database

## ğŸš€ ×”×ª×§× ×” ×‘×¤×¢×•×œ×•×ª ×¤×©×•×˜×•×ª

### ×©×œ×‘ 1: ×•×•×“× ×©-PostgreSQL ××•×ª×§×Ÿ ×•×¨×¥

×¤×ª×— pgAdmin ××• psql ×•×•×•×“× ×©××ª×” ×™×›×•×œ ×œ×”×ª×—×‘×¨.

---

### ×©×œ×‘ 2: ×¦×•×¨ ××ª ×”-Database

#### ××•×¤×¦×™×” ×': ×“×¨×š pgAdmin
1. ×œ×—×¥ ×™×× ×™ ×¢×œ "Databases"
2. Create â†’ Database
3. ×©×: `studyhub`
4. ×©××•×¨

#### ××•×¤×¦×™×” ×‘': ×“×¨×š psql
```bash
psql -U postgres
CREATE DATABASE studyhub;
\q
```

---

### ×©×œ×‘ 3: ×”×’×“×¨ ×§×•×‘×¥ .env

```bash
cd backend
cp .env.example .env
```

×¢×¨×•×š ××ª `.env` ×•×”×ª×× ××ª ×”×©×•×¨×” ×”×–×•:
```ini
# ×× ××ª×” ××©×ª××© ×‘××©×ª××© postgres:
DATABASE_URL=postgresql://postgres:×”×¡×™×¡××”_×©×œ×š@localhost:5432/studyhub

# ××• ×× ×™×¦×¨×ª ××©×ª××© studyhub:
DATABASE_URL=postgresql://studyhub:studyhub123@localhost:5432/studyhub
```

**×—×©×•×‘:** ×©× ×” ×’× ××ª `SECRET_KEY` ×œ××©×”×• ××§×¨××™ ×•××¨×•×š!

---

### ×©×œ×‘ 4: ×”×ª×§×Ÿ ×ª×œ×•×™×•×ª Python

```bash
# ×•×“× ×©××ª×” ×‘-backend directory
cd backend

# ×”×ª×§×Ÿ ×ª×œ×•×™×•×ª
pip install -r requirements.txt

# ××• ×× ××™×Ÿ requirements.txt, ×”×ª×§×Ÿ ×™×“× ×™×ª:
pip install fastapi uvicorn sqlalchemy psycopg2-binary alembic pydantic-settings python-jose passlib python-multipart
```

---

### ×©×œ×‘ 5: ×”×¨×¥ ×”×ª×§× ×” ××•×˜×•××˜×™×ª

```bash
python quick_setup.py
```

×”×¡×§×¨×™×¤×˜ ×”×–×” ×™×¢×©×” ×”×›×œ ×‘×©×‘×™×œ×š:
- âœ… ×™×‘×“×•×§ ××ª ×”×—×™×‘×•×¨ ×œ-DB
- âœ… ×™×™×¦×•×¨ migrations ××•×˜×•××˜×™×ª
- âœ… ×™×¨×™×¥ ××ª ×”-migrations
- âœ… ×™×××ª ×©×”×›×œ ×¢×•×‘×“

---

### ×©×œ×‘ 6: ×‘×“×•×§ ×©×”×›×œ ×¢×•×‘×“

```bash
# ×‘×“×™×§×” ××”×™×¨×”
python check_db.py
```

×××•×¨ ×œ×¨××•×ª:
```
âœ… Connected to PostgreSQL
âœ… All expected tables exist!
```

---

### ×©×œ×‘ 7: ×”×¨×¥ ××ª ×”×©×¨×ª

```bash
uvicorn main:app --reload
```

---

### ×©×œ×‘ 8: ×‘×“×•×§ ××ª ×”-API

×¤×ª×— ×“×¤×“×¤×Ÿ:
```
http://localhost:8000/docs
```

×××•×¨ ×œ×¨××•×ª ××ª ×›×œ ×”-endpoints!

---

## âœ… ×‘×“×™×§×” ××”×™×¨×” ×©×œ Courses API

### ×“×¨×š ×”×“×¤×“×¤×Ÿ (Swagger UI)
1. ×’×© ×œ-http://localhost:8000/docs
2. ×¤×ª×— ××ª ×”×§×˜×’×•×¨×™×” "Courses"
3. × ×¡×” ××ª `GET /api/v1/courses`
4. ×œ×—×¥ "Try it out" ×•××– "Execute"

### ×“×¨×š curl
```bash
curl http://localhost:8000/api/v1/courses
```

×××•×¨ ×œ×§×‘×œ:
```json
[]
```
(×¨×©×™××” ×¨×§×” ×›×™ ×¢×“×™×™×Ÿ ××™×Ÿ ×§×•×¨×¡×™×)

---

## ğŸ› ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª × ×¤×•×¦×•×ª

### ×©×’×™××”: "could not connect to server"
**×¤×ª×¨×•×Ÿ:** PostgreSQL ×œ× ×¨×¥
```bash
# Windows: ×¤×ª×— services.msc ×•×—×¤×© PostgreSQL
# ××• ×”×ª×—×œ ××•×ª×• ×“×¨×š pgAdmin
```

### ×©×’×™××”: "password authentication failed"
**×¤×ª×¨×•×Ÿ:** ×”×¡×™×¡××” ×‘-.env ×œ× × ×›×•× ×”
```bash
# ×‘×“×•×§ ××ª ×”×¡×™×¡××” ×‘-
# DATABASE_URL=postgresql://postgres:×”×¡×™×¡××”_×›××Ÿ@localhost:5432/studyhub
```

### ×©×’×™××”: "database does not exist"
**×¤×ª×¨×•×Ÿ:** ×¦×•×¨ ××ª ×”-database
```bash
psql -U postgres -c "CREATE DATABASE studyhub;"
```

### ×©×’×™××”: "No module named 'app'"
**×¤×ª×¨×•×Ÿ:** ××ª×” ×œ× ×‘×ª×™×§×™×™×” ×”× ×›×•× ×”
```bash
cd backend
python check_db.py
```

### ×©×’×™××”: "alembic command not found"
**×¤×ª×¨×•×Ÿ:** ×”×ª×§×Ÿ ××ª alembic
```bash
pip install alembic
```

---

## ğŸ“‹ ×¨×©×™××ª ×‘×“×™×§×” (Checklist)

×œ×¤× ×™ ×©××ª×—×™×œ×™×:
- [ ] PostgreSQL ××•×ª×§×Ÿ
- [ ] PostgreSQL ×¨×¥
- [ ] Database `studyhub` × ×•×¦×¨
- [ ] ×§×•×‘×¥ `.env` ×§×™×™× ×•××•×’×“×¨
- [ ] Python packages ××•×ª×§× ×™×
- [ ] × ××¦× ×‘×ª×™×§×™×™×ª `backend`

××—×¨×™ ×”×”×ª×§× ×”:
- [ ] `python check_db.py` ×¢×•×‘×“
- [ ] ×™×© 10 ×˜×‘×œ××•×ª ×‘-database
- [ ] ×”×©×¨×ª ×¢×•×œ×” ×‘×œ×™ ×©×’×™××•×ª
- [ ] `/docs` × ×¤×ª×— ×‘×“×¤×“×¤×Ÿ
- [ ] `GET /api/v1/courses` ××—×–×™×¨ ×ª×’×•×‘×”

---

## ğŸ¯ ×¤×§×•×“×•×ª ×©×™××•×©×™×•×ª

```bash
# ×‘×“×™×§×ª database
python check_db.py

# ×”×¨×¦×ª ×©×¨×ª
uvicorn main:app --reload

# ×‘×“×™×§×ª migrations
alembic current

# ×™×¦×™×¨×ª migration ×—×“×©
alembic revision --autogenerate -m "×ª×™××•×¨ ×”×©×™× ×•×™"

# ×”×¨×¦×ª migrations
alembic upgrade head

# ×—×–×¨×” ×œ-migration ×§×•×“×
alembic downgrade -1

# ××™×¤×•×¡ ××œ× (×–×”×™×¨×•×ª!)
alembic downgrade base
alembic upgrade head
```

---

## ğŸ“ ×¢×–×¨×” × ×•×¡×¤×ª

×× ××©×”×• ×œ× ×¢×•×‘×“:

1. **×”×¨×¥ ××ª ×”×‘×“×™×§×”:**
   ```bash
   python check_db.py
   ```

2. **×‘×“×•×§ ××ª ×”-logs:**
   ```bash
   uvicorn main:app --reload --log-level debug
   ```

3. **×‘×“×•×§ ×—×™×‘×•×¨ ×œ-DB ×™×©×™×¨×•×ª:**
   ```bash
   psql -U postgres -d studyhub
   \dt
   ```

4. **×§×¨× ××ª ×”×ª×™×¢×•×“ ×”××œ×:**
   - `SETUP_DATABASE.md` - ×ª×™×¢×•×“ ××¤×•×¨×˜
   - `docs/COURSES_API.md` - ×ª×™×¢×•×“ API

---

## ğŸ‰ ×¡×™×™××ª!

×¢×›×©×™×• ××ª×” ××•×›×Ÿ ×œ×”×ª×—×™×œ ×œ×¢×‘×•×“ ×¢× ×”-API!

**×¦×¢×“×™× ×”×‘××™×:**
1. × ×¡×” ×œ×™×¦×•×¨ ×§×•×¨×¡ (×¦×¨×™×š ×œ×”×™×•×ª admin)
2. × ×¡×” ×œ×”×™×¨×©× ×œ×§×•×¨×¡
3. × ×¡×” ×œ×¢×œ×•×ª ×—×•××¨ ×œ×™××•×“
4. ×¤×ª×— ××ª ×”-Frontend ×•×ª×ª×—×‘×¨ ×œ-API

×‘×”×¦×œ×—×”! ğŸš€
