{"openapi":"3.1.0","info":{"title":"StudyHub","description":"StudyHub - Platform for sharing study materials and AI-powered learning","version":"1.0.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register","description":"Register a new user with BGU university email.\n\n- **username**: Unique username (3-50 characters)\n- **email**: Valid BGU email address (@post.bgu.ac.il)\n- **password**: Password (minimum 6 characters)\n- **full_name**: User's full name\n\nA verification email will be sent to the provided email address.\nThe user must verify their email before they can login.","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Login with username and password.\n\nReturns JWT access token and refresh token.","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token.","operationId":"refresh_token_api_v1_auth_refresh_post","parameters":[{"name":"refresh_token","in":"query","required":true,"schema":{"type":"string","title":"Refresh Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/forgot-password":{"post":{"tags":["Authentication"],"summary":"Forgot Password","description":"Request password reset email.\n\n- **email**: User's email address\n\nSends a password reset email with a token valid for 1 hour.","operationId":"forgot_password_api_v1_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify-email":{"get":{"tags":["Authentication"],"summary":"Verify Email","description":"Verify user's email address using verification token.\n\n- **token**: Email verification token (sent via email)\n\nReturns user information and confirmation message.","operationId":"verify_email_api_v1_auth_verify_email_get","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailVerificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/resend-verification":{"post":{"tags":["Authentication"],"summary":"Resend Verification Email","description":"Resend verification email to user.\n\n- **email**: User's email address\n\nSends a new verification email with a fresh token.","operationId":"resend_verification_email_api_v1_auth_resend_verification_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailVerificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["Authentication"],"summary":"Reset Password","description":"Reset password using reset token.\n\n- **token**: Password reset token (sent via email)\n- **new_password**: New password (minimum 6 characters)\n\nResets the user's password if the token is valid.","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetConfirmRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Get Current User Profile","description":"Get current user's profile.","operationId":"get_current_user_profile_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Users"],"summary":"Update Current User Profile","description":"Update current user's profile.\n\nAllowed fields to update:\n- **full_name**: User's full name\n- **year_in_degree**: Year in degree (1-4)\n- **department**: Department name (e.g., \"Computer Science\")\n- **department_number**: Department number\n- **bio**: User biography","operationId":"update_current_user_profile_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/stats":{"get":{"tags":["Users"],"summary":"Get Current User Stats","description":"Get current user's statistics.\n\nReturns:\n- **uploads_count**: Number of materials uploaded by the user\n- **downloads_received**: Total downloads of user's materials\n- **average_rating**: Average rating of user's materials","operationId":"get_current_user_stats_api_v1_users_me_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStats"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/profile-image":{"post":{"tags":["Users"],"summary":"Upload Profile Image","description":"Upload or update user's profile image.\n\nAllowed formats: JPG, JPEG, PNG, GIF\nMaximum size: 5MB","operationId":"upload_profile_image_api_v1_users_me_profile_image_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_profile_image_api_v1_users_me_profile_image_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Users"],"summary":"Delete Profile Image","description":"Delete user's profile image.","operationId":"delete_profile_image_api_v1_users_me_profile_image_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["Users"],"summary":"Get User By Id","description":"Get user profile by ID (public information only).","operationId":"get_user_by_id_api_v1_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/courses":{"get":{"tags":["Users"],"summary":"Get My Courses","description":"Get all courses the current user is enrolled in.\n\nReturns a list of courses with enrollment details including whether\nthe user is looking for a study partner in each course.","operationId":"get_my_courses_api_v1_users_me_courses_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserCourseWithCourseInfo"},"type":"array","title":"Response Get My Courses Api V1 Users Me Courses Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Users"],"summary":"Enroll In Course","description":"Enroll current user in a course.\n\nThe user can specify if they are looking for a study partner in this course.","operationId":"enroll_in_course_api_v1_users_me_courses_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCourseCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCourseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/courses/{course_id}":{"put":{"tags":["Users"],"summary":"Update Course Enrollment","description":"Update enrollment settings for a specific course.\n\nCurrently supports updating:\n- **looking_for_study_partner**: Toggle whether looking for study partner","operationId":"update_course_enrollment_api_v1_users_me_courses__course_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCourseUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCourseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Unenroll From Course","description":"Unenroll (remove) current user from a course.","operationId":"unenroll_from_course_api_v1_users_me_courses__course_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses/{course_id}/discussions":{"post":{"tags":["Discussions"],"summary":"Create Discussion","description":"Create a new discussion in a course.","operationId":"create_discussion_api_v1_courses__course_id__discussions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscussionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscussionWithAuthor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Discussions"],"summary":"Get Course Discussions","description":"Get all discussions for a course.\nReturns discussions with author info and comment count.","operationId":"get_course_discussions_api_v1_courses__course_id__discussions_get","parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DiscussionWithAuthor"},"title":"Response Get Course Discussions Api V1 Courses  Course Id  Discussions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/discussions/{discussion_id}":{"get":{"tags":["Discussions"],"summary":"Get Discussion","description":"Get a single discussion by ID.\nIncrements view count.","operationId":"get_discussion_api_v1_discussions__discussion_id__get","parameters":[{"name":"discussion_id","in":"path","required":true,"schema":{"type":"integer","title":"Discussion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscussionWithAuthor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Discussions"],"summary":"Update Discussion","description":"Update a discussion.\nOnly the author or admin can update.","operationId":"update_discussion_api_v1_discussions__discussion_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"discussion_id","in":"path","required":true,"schema":{"type":"integer","title":"Discussion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscussionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscussionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Discussions"],"summary":"Delete Discussion","description":"Delete a discussion.\nOnly the author or admin can delete.","operationId":"delete_discussion_api_v1_discussions__discussion_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"discussion_id","in":"path","required":true,"schema":{"type":"integer","title":"Discussion Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses":{"post":{"tags":["Courses"],"summary":"Create Course","description":"Create a new course (admin only would be ideal, but for now any authenticated user).\n\n- **course_number**: Unique course number (e.g., \"CS101\")\n- **course_name**: Course name\n- **department**: Department (optional)\n- **description**: Course description (optional)","operationId":"create_course_api_v1_courses_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Courses"],"summary":"Get Courses","description":"Get list of courses with optional filters.\n\n- **department**: Filter by department\n- **search**: Search in course number or name\n- **skip**: Number of records to skip (pagination)\n- **limit**: Maximum number of records to return","operationId":"get_courses_api_v1_courses_get","parameters":[{"name":"department","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseResponse"},"title":"Response Get Courses Api V1 Courses Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses/{course_id}":{"get":{"tags":["Courses"],"summary":"Get Course","description":"Get a specific course by ID.","operationId":"get_course_api_v1_courses__course_id__get","parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Courses"],"summary":"Update Course","description":"Update a course (admin only would be ideal).","operationId":"update_course_api_v1_courses__course_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Courses"],"summary":"Delete Course","description":"Delete a course (admin only would be ideal).\n\nNote: This will also delete all related materials and discussions.","operationId":"delete_course_api_v1_courses__course_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses/number/{course_number}":{"get":{"tags":["Courses"],"summary":"Get Course By Number","description":"Get a course by course number (e.g., \"CS101\").","operationId":"get_course_by_number_api_v1_courses_number__course_number__get","parameters":[{"name":"course_number","in":"path","required":true,"schema":{"type":"string","title":"Course Number"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses/{course_id}/study-partners":{"get":{"tags":["Courses"],"summary":"Get Study Partners","description":"Get list of users looking for study partners in this course.\n\nReturns users who are enrolled in the course and have\n`looking_for_study_partner` set to True.","operationId":"get_study_partners_api_v1_courses__course_id__study_partners_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses/{course_id}/materials":{"post":{"tags":["Courses"],"summary":"Upload Material","description":"Upload a study material (file) to a course.\n\nSupports: PDF, DOCX, PPTX files and external links","operationId":"upload_material_api_v1_courses__course_id__materials_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_material_api_v1_courses__course_id__materials_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Courses"],"summary":"Get Course Materials","description":"Get all study materials for a specific course.\n\nOptionally filter by material_type.\nReturns list of materials with ratings and download counts.","operationId":"get_course_materials_api_v1_courses__course_id__materials_get","parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}},{"name":"material_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material Type"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/courses/{course_id}/materials/{material_id}":{"delete":{"tags":["Courses"],"summary":"Delete Material","description":"Delete a material from a course.\n\nOnly the uploader or admin can delete the material.\nAlso verifies the material belongs to the specified course.","operationId":"delete_material_api_v1_courses__course_id__materials__material_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"course_id","in":"path","required":true,"schema":{"type":"integer","title":"Course Id"}},{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials":{"post":{"tags":["Materials"],"summary":"Upload Material","description":"Upload a new study material.\n\nCan include:\n- A file (PDF, DOCX, PPTX, images)\n- An external link","operationId":"upload_material_api_v1_materials_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_material_api_v1_materials_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Materials"],"summary":"Get Materials","description":"Get list of materials with optional filters.","operationId":"get_materials_api_v1_materials_get","parameters":[{"name":"course_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Course Id"}},{"name":"material_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material Type"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MaterialResponse"},"title":"Response Get Materials Api V1 Materials Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}":{"get":{"tags":["Materials"],"summary":"Get Material","description":"Get a specific material by ID.","operationId":"get_material_api_v1_materials__material_id__get","parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Materials"],"summary":"Update Material","description":"Update material metadata (only by uploader or admin).","operationId":"update_material_api_v1_materials__material_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Materials"],"summary":"Delete Material","description":"Delete a material (only by uploader or admin).","operationId":"delete_material_api_v1_materials__material_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}/preview":{"get":{"tags":["Materials"],"summary":"Preview Material","description":"Preview a material file in the browser (inline display).","operationId":"preview_material_api_v1_materials__material_id__preview_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}/download":{"get":{"tags":["Materials"],"summary":"Download Material","description":"Download a material file (forces download).","operationId":"download_material_api_v1_materials__material_id__download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}/report":{"post":{"tags":["Materials"],"summary":"Report Material","description":"Report a material (toggle report on).\n\nSimple one-click report - no reason or description needed.\nEach user can only report a material once.","operationId":"report_material_api_v1_materials__material_id__report_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialReportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Materials"],"summary":"Unreport Material","description":"Remove a report on a material (toggle report off).","operationId":"unreport_material_api_v1_materials__material_id__report_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}/discussion":{"get":{"tags":["Materials"],"summary":"Get Material Discussion","description":"Get the discussion for a specific material.\n\nEach material automatically gets a discussion when created.","operationId":"get_material_discussion_api_v1_materials__material_id__discussion_get","parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscussionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}/rate":{"post":{"tags":["ratings"],"summary":"Rate Material","description":"Rate a material (1-5 stars) with optional comment.\n\nBusiness rules:\n- User cannot rate their own material\n- User can only rate each material once\n- Rating must be between 1-5","operationId":"rate_material_api_v1_materials__material_id__rate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["ratings"],"summary":"Update Rating","description":"Update an existing rating for a material.\nUser can only update their own rating.","operationId":"update_rating_api_v1_materials__material_id__rate_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["ratings"],"summary":"Delete Rating","description":"Delete a rating for a material.\nUser can only delete their own rating.","operationId":"delete_rating_api_v1_materials__material_id__rate_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/materials/{material_id}/ratings":{"get":{"tags":["ratings"],"summary":"Get Material Ratings","description":"Get all ratings for a specific material.\nReturns ratings with user information.","operationId":"get_material_ratings_api_v1_materials__material_id__ratings_get","parameters":[{"name":"material_id","in":"path","required":true,"schema":{"type":"integer","title":"Material Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RatingWithUser"},"title":"Response Get Material Ratings Api V1 Materials  Material Id  Ratings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/discussions/{discussion_id}/comments":{"post":{"tags":["Comments"],"summary":"Create Comment","description":"Create a new comment on a discussion.\nSupports nested comments (replies) via parent_comment_id.","operationId":"create_comment_api_v1_discussions__discussion_id__comments_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"discussion_id","in":"path","required":true,"schema":{"type":"integer","title":"Discussion Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentWithAuthor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Comments"],"summary":"Get Discussion Comments","description":"Get all comments for a discussion.\nReturns top-level comments with nested replies.","operationId":"get_discussion_comments_api_v1_discussions__discussion_id__comments_get","parameters":[{"name":"discussion_id","in":"path","required":true,"schema":{"type":"integer","title":"Discussion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentWithReplies"},"title":"Response Get Discussion Comments Api V1 Discussions  Discussion Id  Comments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/{comment_id}/vote":{"post":{"tags":["Comments"],"summary":"Vote Comment","description":"Vote on a comment (upvote or downvote).\nEach user can vote only once per comment.\nIf user changes their vote, it updates the existing vote.","operationId":"vote_comment_api_v1_comments__comment_id__vote_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentVote"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentWithAuthor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/{comment_id}":{"delete":{"tags":["Comments"],"summary":"Delete Comment","description":"Delete a comment.\nOnly the author can delete their own comment.","operationId":"delete_comment_api_v1_comments__comment_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/ask":{"post":{"tags":["AI"],"summary":"Ask Ai","description":"Ask a question to the AI chatbot.\n\nThe AI will use RAG (Retrieval Augmented Generation) to answer\nbased on uploaded study materials.","operationId":"ask_ai_api_v1_ai_ask_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AIQuestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AIQuestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/ai/summarize":{"post":{"tags":["AI"],"summary":"Summarize Material","description":"Generate an automatic summary of a study material.","operationId":"summarize_material_api_v1_ai_summarize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISummarizeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISummarizeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/ai/generate-questions":{"post":{"tags":["AI"],"summary":"Generate Questions","description":"Generate practice questions based on study material.","operationId":"generate_questions_api_v1_ai_generate_questions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AIGenerateQuestionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AIGenerateQuestionsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"summary":"Root","description":"Root endpoint - API health check.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AIGenerateQuestionsRequest":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"num_questions":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Num Questions","default":5}},"type":"object","required":["material_id"],"title":"AIGenerateQuestionsRequest","description":"Schema for generating practice questions."},"AIGenerateQuestionsResponse":{"properties":{"questions":{"items":{"type":"string"},"type":"array","title":"Questions"}},"type":"object","required":["questions"],"title":"AIGenerateQuestionsResponse","description":"Schema for generated questions response."},"AIQuestionRequest":{"properties":{"question":{"type":"string","maxLength":500,"title":"Question"},"course_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Course Id"},"material_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Material Id"}},"type":"object","required":["question"],"title":"AIQuestionRequest","description":"Schema for asking a question to the AI chatbot."},"AIQuestionResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"sources":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sources"},"disclaimer":{"type":"string","title":"Disclaimer","default":"תשובות ה-AI עלולות להכיל טעויות. יש לאמת מול מקורות אקדמיים"}},"type":"object","required":["answer"],"title":"AIQuestionResponse","description":"Schema for AI response."},"AISummarizeRequest":{"properties":{"material_id":{"type":"integer","title":"Material Id"}},"type":"object","required":["material_id"],"title":"AISummarizeRequest","description":"Schema for requesting AI to summarize a document."},"AISummarizeResponse":{"properties":{"summary":{"type":"string","title":"Summary"},"key_points":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Key Points"}},"type":"object","required":["summary"],"title":"AISummarizeResponse","description":"Schema for AI summarization response."},"Body_upload_material_api_v1_courses__course_id__materials_post":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"material_type":{"type":"string","title":"Material Type"},"external_link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Link"},"file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"File"}},"type":"object","required":["title","material_type"],"title":"Body_upload_material_api_v1_courses__course_id__materials_post"},"Body_upload_material_api_v1_materials_post":{"properties":{"title":{"type":"string","title":"Title"},"material_type":{"type":"string","title":"Material Type"},"course_id":{"type":"integer","title":"Course Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"external_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Url"},"file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"File"}},"type":"object","required":["title","material_type","course_id"],"title":"Body_upload_material_api_v1_materials_post"},"Body_upload_profile_image_api_v1_users_me_profile_image_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_profile_image_api_v1_users_me_profile_image_post"},"CommentCreate":{"properties":{"content":{"type":"string","title":"Content"},"parent_comment_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Comment Id"}},"type":"object","required":["content"],"title":"CommentCreate","description":"Schema for creating a comment."},"CommentVote":{"properties":{"vote_type":{"type":"string","title":"Vote Type"}},"type":"object","required":["vote_type"],"title":"CommentVote","description":"Schema for voting on a comment."},"CommentWithAuthor":{"properties":{"content":{"type":"string","title":"Content"},"id":{"type":"integer","title":"Id"},"author_id":{"type":"integer","title":"Author Id"},"discussion_id":{"type":"integer","title":"Discussion Id"},"parent_comment_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Comment Id"},"upvotes":{"type":"integer","title":"Upvotes"},"downvotes":{"type":"integer","title":"Downvotes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"author_username":{"type":"string","title":"Author Username"},"author_full_name":{"type":"string","title":"Author Full Name"},"author_profile_image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Profile Image"}},"type":"object","required":["content","id","author_id","discussion_id","upvotes","downvotes","created_at","author_username","author_full_name"],"title":"CommentWithAuthor","description":"Comment response with author info."},"CommentWithReplies":{"properties":{"content":{"type":"string","title":"Content"},"id":{"type":"integer","title":"Id"},"author_id":{"type":"integer","title":"Author Id"},"discussion_id":{"type":"integer","title":"Discussion Id"},"parent_comment_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Comment Id"},"upvotes":{"type":"integer","title":"Upvotes"},"downvotes":{"type":"integer","title":"Downvotes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"author_username":{"type":"string","title":"Author Username"},"author_full_name":{"type":"string","title":"Author Full Name"},"author_profile_image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Profile Image"},"replies":{"items":{"$ref":"#/components/schemas/CommentWithReplies"},"type":"array","title":"Replies","default":[]}},"type":"object","required":["content","id","author_id","discussion_id","upvotes","downvotes","created_at","author_username","author_full_name"],"title":"CommentWithReplies","description":"Comment with nested replies."},"CourseCreate":{"properties":{"course_number":{"type":"string","maxLength":20,"title":"Course Number"},"course_name":{"type":"string","maxLength":200,"title":"Course Name"},"department":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Department"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["course_number","course_name"],"title":"CourseCreate","description":"Schema for creating a new course."},"CourseResponse":{"properties":{"course_number":{"type":"string","maxLength":20,"title":"Course Number"},"course_name":{"type":"string","maxLength":200,"title":"Course Name"},"department":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Department"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["course_number","course_name","id"],"title":"CourseResponse","description":"Schema for course response."},"CourseUpdate":{"properties":{"course_name":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Course Name"},"department":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Department"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"CourseUpdate","description":"Schema for updating a course."},"DiscussionCreate":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"content":{"type":"string","title":"Content"},"course_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Course Id"}},"type":"object","required":["title","content"],"title":"DiscussionCreate","description":"Schema for creating a discussion."},"DiscussionResponse":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"content":{"type":"string","title":"Content"},"id":{"type":"integer","title":"Id"},"author_id":{"type":"integer","title":"Author Id"},"course_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Course Id"},"is_pinned":{"type":"boolean","title":"Is Pinned"},"is_locked":{"type":"boolean","title":"Is Locked"},"view_count":{"type":"integer","title":"View Count"},"vote_count":{"type":"integer","title":"Vote Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["title","content","id","author_id","is_pinned","is_locked","view_count","vote_count","created_at"],"title":"DiscussionResponse","description":"Schema for discussion response."},"DiscussionUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"}},"type":"object","title":"DiscussionUpdate","description":"Schema for updating a discussion."},"DiscussionWithAuthor":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"content":{"type":"string","title":"Content"},"id":{"type":"integer","title":"Id"},"author_id":{"type":"integer","title":"Author Id"},"course_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Course Id"},"is_pinned":{"type":"boolean","title":"Is Pinned"},"is_locked":{"type":"boolean","title":"Is Locked"},"view_count":{"type":"integer","title":"View Count"},"vote_count":{"type":"integer","title":"Vote Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"author_username":{"type":"string","title":"Author Username"},"author_full_name":{"type":"string","title":"Author Full Name"},"comment_count":{"type":"integer","title":"Comment Count","default":0}},"type":"object","required":["title","content","id","author_id","is_pinned","is_locked","view_count","vote_count","created_at","author_username","author_full_name"],"title":"DiscussionWithAuthor","description":"Discussion response with author info."},"EmailVerificationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"EmailVerificationRequest","description":"Schema for resending verification email."},"EmailVerificationResponse":{"properties":{"message":{"type":"string","title":"Message"},"user":{"$ref":"#/components/schemas/UserResponse"}},"type":"object","required":["message","user"],"title":"EmailVerificationResponse","description":"Schema for email verification response."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest","description":"Login request schema."},"MaterialReportResponse":{"properties":{"id":{"type":"integer","title":"Id"},"material_id":{"type":"integer","title":"Material Id"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","material_id","user_id","created_at"],"title":"MaterialReportResponse","description":"Schema for material report response."},"MaterialResponse":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"material_type":{"$ref":"#/components/schemas/MaterialType"},"course_id":{"type":"integer","title":"Course Id"},"id":{"type":"integer","title":"Id"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"file_extension":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Extension"},"external_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Url"},"download_count":{"type":"integer","title":"Download Count"},"average_rating":{"type":"number","title":"Average Rating"},"rating_count":{"type":"integer","title":"Rating Count"},"reports_count":{"type":"integer","title":"Reports Count","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"uploader_id":{"type":"integer","title":"Uploader Id"}},"type":"object","required":["title","material_type","course_id","id","download_count","average_rating","rating_count","created_at","uploader_id"],"title":"MaterialResponse","description":"Schema for material response."},"MaterialType":{"type":"string","enum":["summaries","homework","lectures","exercises","exam_prep","quiz_prep","quizme"],"title":"MaterialType","description":"Types of materials that can be uploaded."},"MaterialUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"material_type":{"anyOf":[{"$ref":"#/components/schemas/MaterialType"},{"type":"null"}]}},"type":"object","title":"MaterialUpdate","description":"Schema for updating material metadata."},"PasswordResetConfirmRequest":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","maxLength":100,"minLength":6,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"PasswordResetConfirmRequest","description":"Schema for confirming password reset."},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest","description":"Password reset request schema."},"RatingCreate":{"properties":{"rating":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Rating"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"material_id":{"type":"integer","title":"Material Id"}},"type":"object","required":["rating","material_id"],"title":"RatingCreate","description":"Schema for creating a rating."},"RatingResponse":{"properties":{"rating":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Rating"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"material_id":{"type":"integer","title":"Material Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["rating","id","user_id","material_id","created_at"],"title":"RatingResponse","description":"Schema for rating response."},"RatingUpdate":{"properties":{"rating":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Rating"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"}},"type":"object","title":"RatingUpdate","description":"Schema for updating a rating."},"RatingWithUser":{"properties":{"rating":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Rating"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"material_id":{"type":"integer","title":"Material Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"user_username":{"type":"string","title":"User Username"},"user_full_name":{"type":"string","title":"User Full Name"}},"type":"object","required":["rating","id","user_id","material_id","created_at","user_username","user_full_name"],"title":"RatingWithUser","description":"Rating response with user info."},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"Token","description":"JWT token response."},"UserCourseCreate":{"properties":{"course_id":{"type":"integer","title":"Course Id"},"looking_for_study_partner":{"type":"boolean","title":"Looking For Study Partner","default":false}},"type":"object","required":["course_id"],"title":"UserCourseCreate","description":"Schema for enrolling in a course."},"UserCourseResponse":{"properties":{"course_id":{"type":"integer","title":"Course Id"},"looking_for_study_partner":{"type":"boolean","title":"Looking For Study Partner","default":false},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"enrolled_at":{"type":"string","format":"date-time","title":"Enrolled At"}},"type":"object","required":["course_id","id","user_id","enrolled_at"],"title":"UserCourseResponse","description":"Schema for user course enrollment response."},"UserCourseUpdate":{"properties":{"looking_for_study_partner":{"type":"boolean","title":"Looking For Study Partner","description":"Whether looking for study partner in this course"}},"type":"object","required":["looking_for_study_partner"],"title":"UserCourseUpdate","description":"Schema for updating course enrollment settings."},"UserCourseWithCourseInfo":{"properties":{"id":{"type":"integer","title":"Id"},"course_id":{"type":"integer","title":"Course Id"},"course_number":{"type":"string","title":"Course Number"},"course_name":{"type":"string","title":"Course Name"},"looking_for_study_partner":{"type":"boolean","title":"Looking For Study Partner"},"enrolled_at":{"type":"string","format":"date-time","title":"Enrolled At"}},"type":"object","required":["id","course_id","course_number","course_name","looking_for_study_partner","enrolled_at"],"title":"UserCourseWithCourseInfo","description":"Schema for user course enrollment with course details."},"UserCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","maxLength":100,"minLength":1,"title":"Full Name"},"password":{"type":"string","maxLength":100,"minLength":6,"title":"Password"},"year_in_degree":{"type":"integer","maximum":4.0,"minimum":1.0,"title":"Year In Degree","description":"Year in degree (1-4)"},"department":{"type":"string","maxLength":100,"minLength":1,"title":"Department","description":"Department name"},"department_number":{"type":"integer","minimum":1.0,"title":"Department Number","description":"Department number"}},"type":"object","required":["username","email","full_name","password","year_in_degree","department","department_number"],"title":"UserCreate","description":"Schema for user registration."},"UserProfile":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","maxLength":100,"minLength":1,"title":"Full Name"},"id":{"type":"integer","title":"Id"},"year_in_degree":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year In Degree"},"department":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"},"department_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Number"},"profile_image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Image Url"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"is_active":{"type":"boolean","title":"Is Active"},"uploads_count":{"type":"integer","title":"Uploads Count"},"downloads_received":{"type":"integer","title":"Downloads Received"},"average_rating":{"type":"number","title":"Average Rating"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"is_admin":{"type":"boolean","title":"Is Admin"},"is_email_verified":{"type":"boolean","title":"Is Email Verified"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["username","email","full_name","id","is_active","uploads_count","downloads_received","average_rating","created_at","is_admin","is_email_verified"],"title":"UserProfile","description":"Extended user profile with additional info (for /me endpoint)."},"UserResponse":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","maxLength":100,"minLength":1,"title":"Full Name"},"id":{"type":"integer","title":"Id"},"year_in_degree":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year In Degree"},"department":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"},"department_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Number"},"profile_image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Image Url"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"is_active":{"type":"boolean","title":"Is Active"},"uploads_count":{"type":"integer","title":"Uploads Count"},"downloads_received":{"type":"integer","title":"Downloads Received"},"average_rating":{"type":"number","title":"Average Rating"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["username","email","full_name","id","is_active","uploads_count","downloads_received","average_rating","created_at"],"title":"UserResponse","description":"Schema for user response (public info)."},"UserStats":{"properties":{"uploads_count":{"type":"integer","title":"Uploads Count"},"downloads_received":{"type":"integer","title":"Downloads Received"},"average_rating":{"type":"number","title":"Average Rating"}},"type":"object","required":["uploads_count","downloads_received","average_rating"],"title":"UserStats","description":"User statistics schema."},"UserUpdate":{"properties":{"full_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Full Name"},"year_in_degree":{"anyOf":[{"type":"integer","maximum":4.0,"minimum":1.0},{"type":"null"}],"title":"Year In Degree"},"department":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Department"},"department_number":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Department Number"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"}},"type":"object","title":"UserUpdate","description":"Schema for updating user profile."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}}}}}